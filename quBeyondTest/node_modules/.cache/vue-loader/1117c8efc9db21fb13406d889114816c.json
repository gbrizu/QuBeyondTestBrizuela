{"remainingRequest":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Mancho/Projects/manchoCode/quBeyondTest/Pages/Planets.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Mancho/Projects/manchoCode/quBeyondTest/Pages/Planets.vue","mtime":1606102453815},{"path":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBWdWUgZnJvbSAndnVlJzsKIGltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CiBpbXBvcnQgU21hcnRUYWJsZSBmcm9tICd2dWVqcy1zbWFydC10YWJsZSc7CiBWdWUudXNlKFNtYXJ0VGFibGUpCgpleHBvcnQgZGVmYXVsdCB7ICAgICAgICAgIAogICAgZGF0YSgpewogICAgICAgIHJldHVybnsKICAgICAgICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgICAgICAgIHBsYW5ldHM6W10sCiAgICAgICAgICAgIHNob3dEZXRhaWxzOmZhbHNlLAogICAgICAgICAgICBwcmV2aXVvc1VybDpudWxsLAogICAgICAgICAgICBmaWxtczpbXSwKICAgICAgICAgICAgcmVzaWRlbnRzOltdLAogICAgICAgICAgICBuZXh0VXJsOm51bGwsCiAgICAgICAgICAgIGluaXRpYWxVcmw6J2h0dHBzOi8vc3dhcGkuZGV2L2FwaS9wbGFuZXRzLycKICAgICAgICB9ICAgIAogICAgfSwKCiAgICBtb3VudGVkKCl7CiAgICAgICAgdGhpcy5nZXRQbGFuZXRzKHRoaXMuaW5pdGlhbFVybCk7CiAgICB9LAoKICAgIG1ldGhvZHM6ewogICAgICAgIGdldFBsYW5ldHModXJsKXsKICAgICAgICBheGlvcwogICAgICAgICAgICAuZ2V0KHVybCkgICAgICAgIAogICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLnBsYW5ldHMgPSByZXNwb25zZS5kYXRhLnJlc3VsdHM7ICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB0aGlzLm5leHRVcmwgPSByZXNwb25zZS5kYXRhLm5leHQ7CiAgICAgICAgICAgICAgICB0aGlzLnByZXZpdW9zVXJsID0gcmVzcG9uc2UuZGF0YS5wcmV2aW91czsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICB9KS4KICAgICAgICAgICAgY2F0Y2goZSA9PiB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgfSkKICAgICAgICB9LAoKICAgICAgICBoYW5kbGVQcmV2aW91cygpeyAgICAgICAgCiAgICAgICAgICAgIGlmKHRoaXMucHJldml1b3NVcmwgIT0gbnVsbCl7CiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlLS07CiAgICAgICAgICAgICAgICB0aGlzLnNob3dEZXRhaWxzID0gZmFsc2U7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnByZXZpdW9zVXJsKTsKICAgICAgICAgICAgICAgIHRoaXMuZ2V0UGxhbmV0cyh0aGlzLnByZXZpdW9zVXJsKQogICAgICAgICAgICB9ICAgICAgICAKICAgICAgICB9LAoKICAgICAgICBoYW5kbGVOZXh0KCl7ICAgICAgICAgICAgICAgIAogICAgICAgICAgICBpZih0aGlzLm5leHRVcmwgIT0gbnVsbCl7CiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlKys7CiAgICAgICAgICAgICAgICB0aGlzLnNob3dEZXRhaWxzID0gZmFsc2U7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLm5leHRVcmwpOwogICAgICAgICAgICAgICAgdGhpcy5nZXRQbGFuZXRzKHRoaXMubmV4dFVybCkKICAgICAgICAgICAgfSAKICAgICAgICB9LAoKICAgICAgICBoYW5kbGVDbG9zZSgpewogICAgICAgICAgICB0aGlzLnNob3dEZXRhaWxzID0gZmFsc2U7CiAgICAgICAgfSwKCiAgICAgICAgaGFuZGxlU2hvd0RldGFpbHMocm93KXsKCiAgICAgICAgICAgIHRoaXMuc2hvd0RldGFpbHMgPSB0cnVlOwogICAgICAgICAgICBsZXQgYXJyYXlGaWxtcz1bXTsKICAgICAgICAgICAgbGV0IGFycmF5UmVzaWRlbnRzPVtdOwoKICAgICAgICAgICAgcm93LmZpbG1zLmZvckVhY2goZWxlbWVudCA9PiB7CiAgICAgICAgICAgICAgICBheGlvcy5nZXQoZWxlbWVudCkudGhlbihyZXNwb25zZSA9PnsKICAgICAgICAgICAgICAgIGFycmF5RmlsbXMucHVzaChyZXNwb25zZS5kYXRhKTsgICAgICAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICByb3cucmVzaWRlbnRzLmZvckVhY2goZWxlbWVudCA9PiB7CiAgICAgICAgICAgICAgICBheGlvcy5nZXQoZWxlbWVudCkudGhlbihyZXNwb25zZSA9PnsKICAgICAgICAgICAgICAgIGFycmF5UmVzaWRlbnRzLnB1c2gocmVzcG9uc2UuZGF0YSk7IAogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7IAogICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7ICAKCiAgICAgICAgICAgIHRoaXMuZmlsbXMgPSBhcnJheUZpbG1zOwogICAgICAgICAgICB0aGlzLnJlc2lkZW50cyA9IGFycmF5UmVzaWRlbnRzOyAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["Planets.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Planets.vue","sourceRoot":"Pages","sourcesContent":["<template>\n<div class=\"general\">\n    <div class=\"header\">\n        <h1 class=\"title\">Qu Beyond</h1>\n    </div>\n    <div>\n        <h3 class=\"title\">Planets</h3>\n    </div>\n    <div class=\"content\">        \n       <v-table :data=\"planets\" id=\"planets\">\n            <thead slot=\"head\">                \n                <v-th sortKey=\"name\">Name</v-th>\n                <th>Period</th>                \n                <v-th sortKey=\"diameter\">Diameter</v-th>                \n                <v-th sortKey=\"climate\" defaultSort=\"desc\">Climate</v-th>\n                <v-th sortKey=\"gravity\" defaultSort=\"desc\">Gravity</v-th>\n                <v-th sortKey=\"terrain\" defaultSort=\"desc\">Terrain</v-th>\n                <v-th sortKey=\"surface_water\" defaultSort=\"desc\">Surface Water</v-th>\n                <v-th sortKey=\"population\" defaultSort=\"desc\">Population</v-th>\n                <th>Action</th>\n            </thead>\n            <tbody slot=\"body\" slot-scope=\"{displayData}\">\n                <tr v-for=\"row in displayData\" :key=\"row.name\">\n                <td>{{ row.name }}</td>\n                <td>                    \n                        <li>Orbital Period: {{ row.orbital_period }}</li>\n                        <li>Rotation Period: {{ row.rotation_period }}</li>                                            \n                </td>                \n                <td>{{ row.diameter }}</td>                \n                <td>{{ row.climate }}</td>                \n                <td>{{ row.gravity }}</td>                \n                <td>{{ row.terrain }}</td>                \n                <td>{{ row.surface_water }}</td>                \n                <td>{{ row.population }}</td>                \n                <td>\n                    <button v-on:click=\"handleShowDetails(row)\">View</button>\n                </td>                \n                </tr>\n            </tbody>\n        </v-table>\n         <div class=\"paginator\">\n             <button v-on:click=\"handlePrevious()\">Previous</button>\n             [{{currentPage}}]\n             <button v-on:click=\"handleNext()\">Next</button>\n         </div>\n\n        <hr>\n        <div  v-if=\"showDetails\">\n            <h3 class=\"title\">Films</h3>\n        \n        <hr>\n         <v-table :data=\"films\" id=\"planets\">\n            <thead slot=\"head\">                \n                <v-th sortKey=\"title\">Title</v-th>\n                <v-th sortKey=\"director\">Director</v-th>\n                <v-th sortKey=\"producer\">Producer</v-th>                                    \n            </thead>\n            <tbody slot=\"body\" slot-scope=\"{displayData}\">\n                <tr v-for=\"row in displayData\" :key=\"row.name\">\n                <td>{{ row.title }}</td>\n                <td>{{ row.director }}</td>\n                <td>{{ row.producer }}</td>                                                        \n                </tr>\n            </tbody>\n        </v-table>\n        <hr>\n           <h3 class=\"title\">Residents</h3>        \n        <hr>\n         <v-table :data=\"films\" id=\"planets\">\n            <thead slot=\"head\">                \n                <v-th sortKey=\"name\">Name</v-th>\n                <v-th sortKey=\"gender\">Gender</v-th>\n                <v-th sortKey=\"hair_color\">Hair Color</v-th>                                    \n                <v-th sortKey=\"eye_color\">Eye Color</v-th>                                    \n                <v-th sortKey=\"birth_year\">Birth Year</v-th>                                    \n            </thead>\n            <tbody slot=\"body\" slot-scope=\"{displayData}\">\n                <tr v-for=\"row in displayData\" :key=\"row.name\">\n                <td>{{ row.title }}</td>\n                <td>{{ row.director }}</td>\n                <td>{{ row.producer }}</td>                                                        \n                </tr>\n            </tbody>\n        </v-table>\n        <div class=\"paginator\">\n            <button v-on:click=\"handleClose()\">Close</button>\n         </div>\n        \n        </div>\n        <hr>\n       \n    </div>\n</div>    \n</template>\n\n<script>\nimport Vue from 'vue';\n import axios from 'axios';\n import SmartTable from 'vuejs-smart-table';\n Vue.use(SmartTable)\n\nexport default {          \n    data(){\n        return{\n            currentPage: 1,\n            planets:[],\n            showDetails:false,\n            previuosUrl:null,\n            films:[],\n            residents:[],\n            nextUrl:null,\n            initialUrl:'https://swapi.dev/api/planets/'\n        }    \n    },\n\n    mounted(){\n        this.getPlanets(this.initialUrl);\n    },\n\n    methods:{\n        getPlanets(url){\n        axios\n            .get(url)        \n            .then(response => {\n                this.planets = response.data.results;            \n                this.nextUrl = response.data.next;\n                this.previuosUrl = response.data.previous;\n                \n            }).\n            catch(e => {\n                console.log(e);\n            })\n        },\n\n        handlePrevious(){        \n            if(this.previuosUrl != null){\n                this.currentPage--;\n                this.showDetails = false;\n                console.log(this.previuosUrl);\n                this.getPlanets(this.previuosUrl)\n            }        \n        },\n\n        handleNext(){                \n            if(this.nextUrl != null){\n                this.currentPage++;\n                this.showDetails = false;\n                console.log(this.nextUrl);\n                this.getPlanets(this.nextUrl)\n            } \n        },\n\n        handleClose(){\n            this.showDetails = false;\n        },\n\n        handleShowDetails(row){\n\n            this.showDetails = true;\n            let arrayFilms=[];\n            let arrayResidents=[];\n\n            row.films.forEach(element => {\n                axios.get(element).then(response =>{\n                arrayFilms.push(response.data);                 \n            });\n            });\n\n            row.residents.forEach(element => {\n                axios.get(element).then(response =>{\n                arrayResidents.push(response.data); \n                console.log(response.data); \n            });\n            });  \n\n            this.films = arrayFilms;\n            this.residents = arrayResidents;                        \n        }\n    }\n}\n</script>\n\n<style>\n.header{\n    min-height: 140px;\n    text-align: center;\n    margin: 'auto';\n    background: #BA343D;\n    color: #f2f2f2;\n}\n\n.content{\n    width: 90%;\n    margin: 0 auto;\n}\n.paginator{\n    padding-top: 15px;\n    width: 40%;\n    margin: 0 auto;\n    margin-bottom: 10px;\n}\n\n.title{    \n    padding-top: 40px;\n}\n#planets {\n  font-family: Arial, Helvetica, sans-serif;\n  border-collapse: collapse;\n  width: 100%;\n}\n\n#planets td, #planets th {\n  border: 1px solid #ddd;\n  padding: 8px;\n}\n\n#planets tr:nth-child(even){background-color: #f2f2f2;}\n\n#planets tr:hover {background-color: #ddd;}\n\n#planets th {\n  padding-top: 12px;\n  padding-bottom: 12px;\n  text-align: left;\n  background-color: #BA343D;\n  color: white;\n}\n</style>\n"]}]}